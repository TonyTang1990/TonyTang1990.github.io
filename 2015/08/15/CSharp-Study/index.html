
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>C# Study | 走停人生路</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Tony Tang">
    

    
    <meta name="description" content=".Net FrameworkIntroduction.Net Framework是Microsoft为开发应用程序而创建创的一个具有革命意义的平台。
Content.Net Framework主要包含一个非常大的代码库，可以在客户语言中通过面向对象编程技术来使用这些代码。这个库分为多个不同的模块。
.Net Framework还包含.NET公共语言运行库(Common Language Runti">
<meta property="og:type" content="article">
<meta property="og:title" content="C# Study">
<meta property="og:url" content="http://tonytang1990.github.io/2015/08/15/CSharp-Study/index.html">
<meta property="og:site_name" content="走停人生路">
<meta property="og:description" content=".Net FrameworkIntroduction.Net Framework是Microsoft为开发应用程序而创建创的一个具有革命意义的平台。
Content.Net Framework主要包含一个非常大的代码库，可以在客户语言中通过面向对象编程技术来使用这些代码。这个库分为多个不同的模块。
.Net Framework还包含.NET公共语言运行库(Common Language Runti">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/CSharp_Compile_Process1.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/CSharp_Compile_Process2.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/CSharp_Compile_Process3.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/CSharp_Delegate.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/Static_Constructor_And_Static_Class.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/PriorityQueue_Study.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/Generic.PNG">
<meta property="og:image" content="http://tonytang1990.github.io/img/CSharp/Variance_Contravariance.PNG">
<meta property="og:updated_time" content="2015-12-01T15:35:35.342Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C# Study">
<meta name="twitter:description" content=".Net FrameworkIntroduction.Net Framework是Microsoft为开发应用程序而创建创的一个具有革命意义的平台。
Content.Net Framework主要包含一个非常大的代码库，可以在客户语言中通过面向对象编程技术来使用这些代码。这个库分为多个不同的模块。
.Net Framework还包含.NET公共语言运行库(Common Language Runti">

    
    <link rel="alternative" href="/atom.xml" title="走停人生路" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.jpg" alt="走停人生路" title="走停人生路"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="走停人生路">走停人生路</a></h1>
				<h2 class="blog-motto">有时候不是习惯了一个人，而是在没有认可自己之前选择了一个人</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:tonytang1990.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/08/15/CSharp-Study/" title="C# Study" itemprop="url">C# Study</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Tony Tang" target="_blank" itemprop="author">Tony Tang</a>
		
  <p class="article-time">
    <time datetime="2015-08-15T06:30:53.000Z" itemprop="datePublished"> 發表於 2015-08-15</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目錄</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#-Net_Framework"><span class="toc-number">1.</span> <span class="toc-text">.Net Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Content"><span class="toc-number">1.2.</span> <span class="toc-text">Content</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using_-NET_Framework"><span class="toc-number">1.3.</span> <span class="toc-text">Using .NET Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools"><span class="toc-number">1.3.1.</span> <span class="toc-text">Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Compile_process"><span class="toc-number">1.3.2.</span> <span class="toc-text">Compile process</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#程序集"><span class="toc-number">1.3.3.</span> <span class="toc-text">程序集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#托管代码"><span class="toc-number">1.3.4.</span> <span class="toc-text">托管代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#垃圾回收"><span class="toc-number">1.3.5.</span> <span class="toc-text">垃圾回收</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链接"><span class="toc-number">1.3.6.</span> <span class="toc-text">链接</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CSharp"><span class="toc-number">2.</span> <span class="toc-text">CSharp</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction-1"><span class="toc-number">2.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Features"><span class="toc-number">2.2.</span> <span class="toc-text">Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Development"><span class="toc-number">2.3.</span> <span class="toc-text">Development</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Language_Study"><span class="toc-number">2.4.</span> <span class="toc-text">Language Study</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-_delegate"><span class="toc-number">2.4.1.</span> <span class="toc-text">1. delegate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-_Class_&_interface"><span class="toc-number">2.4.2.</span> <span class="toc-text">2. Class & interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-_Not_supported_multiple_inherit"><span class="toc-number">2.4.3.</span> <span class="toc-text">3. Not supported multiple inherit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-_Class_member"><span class="toc-number">2.4.4.</span> <span class="toc-text">4. Class member</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-_Struct_&_Class"><span class="toc-number">2.4.5.</span> <span class="toc-text">3. Struct & Class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-_Collection_class_(System-Collection)"><span class="toc-number">2.4.6.</span> <span class="toc-text">4. Collection class (System.Collection)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-_Comparasion"><span class="toc-number">2.4.7.</span> <span class="toc-text">5. Comparasion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-_Conversion"><span class="toc-number">2.4.8.</span> <span class="toc-text">6. Conversion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-_Generics"><span class="toc-number">2.4.9.</span> <span class="toc-text">7. Generics</span></a></li></ol></li></ol></li></ol>
		
		</div>
		
		<h1 id="-Net_Framework">.Net Framework</h1><h2 id="Introduction">Introduction</h2><p>.Net Framework是Microsoft为开发应用程序而创建创的一个具有革命意义的平台。</p>
<h2 id="Content">Content</h2><p>.Net Framework主要包含一个非常大的代码库，可以在客户语言中通过面向对象编程技术来使用这些代码。这个库分为多个不同的模块。</p>
<p>.Net Framework还包含.NET公共语言运行库(Common Language Runtime, CLR)，它负责管理用.NET库开发的所有应用程序的执行</p>
<h2 id="Using_-NET_Framework">Using .NET Framework</h2><h3 id="Tools">Tools</h3><ol>
<li>Visual Studio</li>
<li>VCE(for C#)</li>
</ol>
<h3 id="Compile_process">Compile process</h3><ol>
<li><p>CIL(Common Intermediate Language)<br>首先把代码编译成通用中间语言(Common Intermediate Language, CIL)代码<br><img src="/img/CSharp/CSharp_Compile_Process1.PNG" alt="编译到程序集"></p>
</li>
<li><p>JIT(Just-In-Time)<br>把CIL编译为专用于OS和目标机器结构的机器代码<br><img src="/img/CSharp/CSharp_Compile_Process2.PNG" alt="编译为本机代码"></p>
</li>
</ol>
<h3 id="程序集">程序集</h3><p>编译程序时所创建的CIL代码存储在一个程序集中（e.g. .exe .dll）<br>程序集包含程序用到的相关数据信息</p>
<h3 id="托管代码">托管代码</h3><p>CLR管理着应用程序，其方式是管理内存，处理安全性以及允许进行跨语言调试等。相反，不受CLR控制运行着的应用程序属于非托管类型。<br><img src="/img/CSharp/CSharp_Compile_Process3.PNG" alt="托管到CLR运行"></p>
<h3 id="垃圾回收">垃圾回收</h3><p>托管代码中的一个功能GC(garbage collection)</p>
<h3 id="链接">链接</h3><p>模块化</p>
<h1 id="CSharp">CSharp</h1><h2 id="Introduction-1">Introduction</h2><p>C#是可用于创建要运行在.NET CLR上的应用程序的语言之一，它从C和C++语言演化而来，是Microsoft专门为使用.NET平台而创建的。</p>
<h2 id="Features">Features</h2><ol>
<li>语法简单</li>
<li>类型安全</li>
<li>为.NET Framework设计的语言</li>
</ol>
<h2 id="Development">Development</h2><p>Application Type</p>
<ol>
<li>Windows Appliaction Program</li>
<li>Web Application Program</li>
<li>Web Service</li>
</ol>
<h2 id="Language_Study">Language Study</h2><p>Only record some difference between C# and C++/Java</p>
<h3 id="1-_delegate">1. delegate</h3><p>(C++里用函数指针实现,Java里通过内部类的闭包和interface去实现)<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">CSharpStudy</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">delegate</span> <span class="keyword">void</span> <span class="title">testDelegate</span>(<span class="params"><span class="keyword">string</span> para</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doSomething</span>(<span class="params"><span class="keyword">string</span> para</span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            Console.WriteLine(<span class="string">"doSomething:"</span> + para);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">            <span class="preprocessor">#<span class="keyword">region</span> method 1 to use delegate</span></span><br><span class="line">	        testDelegate delegate1;</span><br><span class="line">            delegate1 = <span class="keyword">new</span> testDelegate(doSomething);</span><br><span class="line">            <span class="preprocessor">#<span class="keyword">endregion</span></span></span><br><span class="line">            delegate1(<span class="string">"delegate1"</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="preprocessor">#<span class="keyword">region</span> method 2 to use delegate(lambda expression)</span></span><br><span class="line">            testDelegate delegate2 = s =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">"doSomething:"</span> + s);</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="preprocessor">#<span class="keyword">endregion</span></span></span><br><span class="line">            delegate2(<span class="string">"delegate2"</span>);</span><br><span class="line">              </span><br><span class="line">           <span class="preprocessor">#<span class="keyword">region</span> method 3 to use delegate(anonymous method)</span></span><br><span class="line">            testDelegate delegate3 = <span class="keyword">delegate</span>(<span class="keyword">string</span> para)</span><br><span class="line">           &#123;</span><br><span class="line">               Console.WriteLine(<span class="string">"delegate3's para = "</span> + para);</span><br><span class="line">           &#125;;</span><br><span class="line">           <span class="preprocessor">#<span class="keyword">endregion</span></span></span><br><span class="line">           delegate3(<span class="string">"delegate3"</span>);</span><br><span class="line">           Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Output:<br><img src="/img/CSharp/CSharp_Delegate.PNG" alt="CSharp_Delegate"></p>
<h3 id="2-_Class_&amp;_interface">2. Class &amp; interface</h3><ol>
<li>Class qualifier<br>internal class — only code in current project can access (default)<br>public class — other project code can access</li>
</ol>
<p>abstract class — abstract class<br>sealed class — cant not be inheritated</p>
<p>Note:<br>Compiler is not allowed derived class’s access privileges higher than parent class</p>
<p>e.g.<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">MyBase</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MyBase</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Cant do like this due to Child class access previlage is higher than parent class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyChild</span> <span class="comment">/*: MyBase*/</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MyChild</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>support extends multiple interface<br>Note:<br>base class must be write down first when we inherites from one class and extends several interface<br>abstract &amp; sealed can not be used by interface due to no implementation in interface (abstract &amp; sealed qualifier are meaningless)</p>
<ol>
<li>Static constructor &amp; Static class<br>静态构造函数只会被调用一次且属于整个类<br>静态类不能拥有实例构造函数且只能有static成员<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">CSharpStudy</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title">StaticConstructor</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="function"><span class="keyword">static</span> <span class="title">StaticConstructor</span>(<span class="params"></span>)</span><br><span class="line">            </span>&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">"Static StaticConstructor()"</span>);</span><br><span class="line">                m_ID = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="title">StaticConstructor</span>(<span class="params"></span>)</span><br><span class="line">            </span>&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">"Normal StaticConstructor()"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> m_ID;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">StaticClass</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">/*</span><br><span class="line">            //Cant have instance constructor (do not know why static constructor neither)</span><br><span class="line">            static StaticClass()</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine("StaticClass()");</span><br><span class="line">                m_ID = 2;</span><br><span class="line">                m_Type = "Static";</span><br><span class="line">            &#125;</span><br><span class="line">            */</span></span><br><span class="line">            <span class="comment">//Can not non static member</span></span><br><span class="line">            <span class="comment">//public int m_Test = 3; </span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> m_ID = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> m_Type = <span class="string">"Static"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span><br><span class="line">        </span>&#123;</span><br><span class="line">           StaticConstructor sc = <span class="keyword">new</span> StaticConstructor();</span><br><span class="line">           Console.WriteLine(<span class="string">"StaticConstructor::m_ID = "</span> + StaticConstructor.m_ID);</span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">"StaticClass::m_ID = "</span> + StaticClass.m_ID);</span><br><span class="line">           Console.WriteLine(<span class="string">"StaticClass::m_Type = "</span> + StaticClass.m_Type);</span><br><span class="line"></span><br><span class="line">           Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Output:<br><img src="/img/CSharp/Static_Constructor_And_Static_Class.PNG" alt="Static_Constructor_And_Static_Class"></p>
<h3 id="3-_Not_supported_multiple_inherit">3. Not supported multiple inherit</h3><p>C++支持多重继承，Java通过extend多个Interface来实现多重继承<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Base1</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Base1</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       Console.WriteLine(<span class="string">"Base1()"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">Base2</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Base2</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       Console.WriteLine(<span class="string">"Base1()"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">Child</span> : <span class="title">Base1</span><span class="comment">/*, Base2*/</span><span class="comment">//Not support multiple inherit</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Child</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       Console.WriteLine(<span class="string">"Child()"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">   Child c = <span class="keyword">new</span> Child();</span><br></pre></td></tr></table></figure></p>
<h3 id="4-_Class_member">4. Class member</h3><p>access qualifier<br>public, private, internal, protected</p>
<p>readonly — only can be initilized in constructor or declaration</p>
<p>property &amp; field<br>property gives more control to field access</p>
<p>accessor privilege — can not be higher than the access privilege that it is belonged to<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Accessor</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Accessor</span>(<span class="params"></span>)</span><br><span class="line">    </span>&#123;</span><br><span class="line">        m_A = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> IntA</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> m_A;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Can not be public due to IntA's access privilege is lower than public</span></span><br><span class="line">        <span class="comment">//public set</span></span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            m_A = <span class="keyword">value</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m_A;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>member function<br> override key word can hide base function(works with polymorphism)<br> Access base function that has been hiden uses base key word in child class</p>
</li>
<li><p>Interface member<br> all interface member must be public<br> can not use static, virtual, abstract, sealed</p>
</li>
<li><p>Interface implementation<br>explicit implementation — only can be accessed through interface (return type interface.functionanme(para))<br>implicit implementation — can be accessd through both interface and class</p>
</li>
<li><p>partial class definition &amp; partial property<br> can put class member, property, method, field into several files(partial key word)<br> Partial property is always static and withought return value</p>
</li>
</ol>
<h3 id="3-_Struct_&amp;_Class">3. Struct &amp; Class</h3><p>Struct is value type<br>Class is reference type</p>
<p>Shallow copy &amp; Deep copy<br>Shallow copy will only copy value type member, reference type member will use original one(System.Object.MemberwiseClone())</p>
<p>Deep copy  will copy all member value instead of reference(implememnt ICloneable::Clone())</p>
<h3 id="4-_Collection_class_(System-Collection)">4. Collection class (System.Collection)</h3><p>好比C++里的STL里的container<br>Our own collection (extends CollectionBase Class || DictionaryBase)</p>
<p>因为C#没有自带PriorityQueue而是通过基本的List等数据结构来实现，下面是自己实现PriorityQueue，主要是通过堆排序用List来模拟优先队列。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><span class="line">public class PriorityQueue&lt;T1, T2&gt;</span><br><span class="line">&#123;</span><br><span class="line">    public PriorityQueue()</span><br><span class="line">    &#123;</span><br><span class="line">        mHeap = new Heap&lt;T1, T2&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public PriorityQueue(Heap&lt;T1, T2&gt; heap)</span><br><span class="line">    &#123;</span><br><span class="line">        mHeap = heap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public bool Empty()</span><br><span class="line">    &#123;</span><br><span class="line">        return (mHeap.Size() == 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void Push(KeyValuePair&lt;T1, T2&gt; kvp)</span><br><span class="line">    &#123;</span><br><span class="line">        mHeap.Insert(kvp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public KeyValuePair&lt;T1, T2&gt; Pop()</span><br><span class="line">    &#123;</span><br><span class="line">        KeyValuePair&lt;T1, T2&gt; result = mHeap.Top();</span><br><span class="line">        mHeap.RemoveTop();</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int Size()</span><br><span class="line">    &#123;</span><br><span class="line">        return mHeap.Size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public KeyValuePair&lt;T1, T2&gt; Top()</span><br><span class="line">    &#123;</span><br><span class="line">        return mHeap.Top(); ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void PrintOutAllMember()</span><br><span class="line">    &#123;</span><br><span class="line">        mHeap.PrintOutAllMember();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Heap&lt;T1, T2&gt; mHeap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Heap&lt;T1, T2&gt;</span><br><span class="line">&#123;</span><br><span class="line">    private List&lt;KeyValuePair&lt;T1, T2&gt;&gt; mList;</span><br><span class="line">    private IComparer&lt;T2&gt; mComparer;</span><br><span class="line">    private int mCount;</span><br><span class="line"></span><br><span class="line">    public Heap()</span><br><span class="line">    &#123;</span><br><span class="line">        mList = new List&lt;KeyValuePair&lt;T1, T2&gt;&gt;();</span><br><span class="line">        mComparer = Comparer&lt;T2&gt;.Default;</span><br><span class="line">        mCount = 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Heap(List&lt;KeyValuePair&lt;T1, T2&gt;&gt; list)</span><br><span class="line">    &#123;</span><br><span class="line">        mList = list;</span><br><span class="line">        mCount = list.Count;</span><br><span class="line">        mComparer = Comparer&lt;T2&gt;.Default;</span><br><span class="line">        BuildingHeap();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int Size()</span><br><span class="line">    &#123;</span><br><span class="line">        if (mList != null)</span><br><span class="line">        &#123;</span><br><span class="line">            return mCount;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //O(Log(N))</span><br><span class="line">    public void RemoveTop()</span><br><span class="line">    &#123;</span><br><span class="line">        if (mList != null)</span><br><span class="line">        &#123;</span><br><span class="line">            mList[0] = mList[mCount - 1];</span><br><span class="line">            mList.RemoveAt(mCount - 1);</span><br><span class="line">            mCount--;</span><br><span class="line">            HeapifyFromBeginningToEnd(0, mCount - 1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public KeyValuePair&lt;T1, T2&gt; Top()</span><br><span class="line">    &#123;</span><br><span class="line">        if (mList != null)</span><br><span class="line">        &#123;</span><br><span class="line">            return mList[0];</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            //No more member</span><br><span class="line">            throw new InvalidOperationException("Empty heap.");</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void PrintOutAllMember()</span><br><span class="line">    &#123;</span><br><span class="line">        foreach (KeyValuePair&lt;T1, T2&gt; valuepair in mList)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(valuepair.ToString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //O(Log(N))</span><br><span class="line">    public void Insert(KeyValuePair&lt;T1, T2&gt; valuepair)</span><br><span class="line">    &#123;</span><br><span class="line">        mList.Add(valuepair);</span><br><span class="line">        mCount++;</span><br><span class="line">        HeapifyFromEndToBeginning(mCount - 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //调整堆确保堆是最大堆，这里花O(log(n))，跟堆的深度有关</span><br><span class="line">    private void HeapifyFromBeginningToEnd(int parentindex, int length)</span><br><span class="line">    &#123;</span><br><span class="line">        int max_index = parentindex;</span><br><span class="line">        int left_child_index = parentindex * 2 + 1;</span><br><span class="line">        int right_child_index = parentindex * 2 + 2;</span><br><span class="line"></span><br><span class="line">        //Chose biggest one between parent and left&amp;right child</span><br><span class="line">        if (left_child_index &lt; length &amp;&amp; mComparer.Compare(mList[left_child_index].Value, mList[max_index].Value) &lt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            max_index = left_child_index;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (right_child_index &lt; length &amp;&amp; mComparer.Compare(mList[right_child_index].Value, mList[max_index].Value) &lt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            max_index = right_child_index;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //If any child is bigger than parent, </span><br><span class="line">        //then we swap it and do adjust for child again to make sure meet max heap definition</span><br><span class="line">        if (max_index != parentindex)</span><br><span class="line">        &#123;</span><br><span class="line">            Swap(max_index, parentindex);</span><br><span class="line">            HeapifyFromBeginningToEnd(max_index, length);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //O(log(N))</span><br><span class="line">    private void HeapifyFromEndToBeginning(int index)</span><br><span class="line">    &#123;</span><br><span class="line">        if (index &gt;= mCount)</span><br><span class="line">        &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        while (index &gt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            int parentindex = (index - 1) / 2;</span><br><span class="line">            if (mComparer.Compare(mList[parentindex].Value, mList[index].Value) &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                Swap(parentindex, index);</span><br><span class="line">                index = parentindex;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //通过初试数据构建最大堆</span><br><span class="line">    ////O(N*Log(N))</span><br><span class="line">    private void BuildingHeap()</span><br><span class="line">    &#123;</span><br><span class="line">        if (mList != null)</span><br><span class="line">        &#123;</span><br><span class="line">            for (int i = mList.Count / 2 - 1; i &gt;= 0; i--)</span><br><span class="line">            &#123;</span><br><span class="line">                //1.2 Adjust heap</span><br><span class="line">                //Make sure meet max heap definition</span><br><span class="line">                //Max Heap definition:</span><br><span class="line">                // (k(i) &gt;= k(2i) &amp;&amp; k(i) &gt;= k(2i+1))   (1 &lt;= i &lt;= n/2)</span><br><span class="line">                HeapifyFromBeginningToEnd(i, mList.Count);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ////O(N*log(N))</span><br><span class="line">    private void HeapSort()</span><br><span class="line">    &#123;</span><br><span class="line">        if (mList != null)</span><br><span class="line">        &#123;</span><br><span class="line">            //Steps:</span><br><span class="line">            // 1. Build heap</span><br><span class="line">            // 1.1 Init heap</span><br><span class="line">            // 1.2 Adjust heap</span><br><span class="line">            // 2. Sort heap</span><br><span class="line"></span><br><span class="line">            //1. Build max heap</span><br><span class="line">            // 1.1 Init heap</span><br><span class="line">            //Assume we construct max heap</span><br><span class="line">            BuildingHeap();</span><br><span class="line">            //2. Sort heap</span><br><span class="line">            //这里花O(n)，跟数据数量有关</span><br><span class="line">            for (int i = mList.Count - 1; i &gt; 0; i--)</span><br><span class="line">            &#123;</span><br><span class="line">                //swap first element and last element</span><br><span class="line">                //do adjust heap process again to make sure the new array are still max heap</span><br><span class="line">                Swap(i, 0);</span><br><span class="line">                //Due to we already building max heap before,</span><br><span class="line">                //so  we just need to adjust for index 0 after we swap first and last element</span><br><span class="line">                HeapifyFromBeginningToEnd(0, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write("mList == null");</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void Swap(int id1, int id2)</span><br><span class="line">    &#123;</span><br><span class="line">        KeyValuePair&lt;T1, T2&gt; temp;</span><br><span class="line">        temp = mList[id1];</span><br><span class="line">        mList[id1] = mList[id2];</span><br><span class="line">        mList[id2] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static void Main(string[] args)</span><br><span class="line">&#123;</span><br><span class="line">    List&lt;KeyValuePair&lt;int, float&gt;&gt; list = new List&lt;KeyValuePair&lt;int, float&gt;&gt;();</span><br><span class="line">    list.Add(new KeyValuePair&lt;int, float&gt;(3, 1.0f));</span><br><span class="line">    list.Add(new KeyValuePair&lt;int, float&gt;(2, 5.0f));</span><br><span class="line">    list.Add(new KeyValuePair&lt;int, float&gt;(1, 3.0f));</span><br><span class="line">    list.Add(new KeyValuePair&lt;int, float&gt;(6, 4.0f));</span><br><span class="line">    list.Add(new KeyValuePair&lt;int, float&gt;(5, 2.0f));</span><br><span class="line">    list.Add(new KeyValuePair&lt;int, float&gt;(4, 6.0f));</span><br><span class="line"></span><br><span class="line">    Heap&lt;int,float&gt; heap = new Heap&lt;int,float&gt;(list);</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;int,float&gt; pq = new PriorityQueue&lt;int,float&gt;(heap);</span><br><span class="line"></span><br><span class="line">    pq.PrintOutAllMember();</span><br><span class="line"></span><br><span class="line">    Console.WriteLine("------------------------pq.Push(new KeyValuePair&lt;int, float&gt;(0, 0.0f));");</span><br><span class="line"></span><br><span class="line">    pq.Push(new KeyValuePair&lt;int, float&gt;(0, 0.0f));</span><br><span class="line"></span><br><span class="line">    pq.PrintOutAllMember();</span><br><span class="line"></span><br><span class="line">    Console.WriteLine("------------------------pq.Pop();");</span><br><span class="line"></span><br><span class="line">    pq.Pop();</span><br><span class="line"></span><br><span class="line">    pq.PrintOutAllMember();</span><br><span class="line"></span><br><span class="line">    Console.WriteLine("------------------------pq.Top();");</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(pq.Top().ToString());</span><br><span class="line"></span><br><span class="line">    #endregion</span><br><span class="line"></span><br><span class="line">    Console.ReadKey();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Output:<br><img src="/img/CSharp/PriorityQueue_Study.PNG" alt="PriorityQueue_Study"></p>
<p>堆排序构造有序堆的时间复杂度是O(N * Log(N))<br>但插入和移除操作都是O(Log(N))</p>
<p><a href="http://tonytang1990.github.io/2015/07/11/Sort-Algorithm/">排序算法参考</a></p>
<h3 id="5-_Comparasion">5. Comparasion</h3><ol>
<li><p>Type comparasion<br>System.Object.GetType()<br>&amp;&amp;<br>typeof()<br>&amp;&amp;<br>is operator — is specific type or type can be cast</p>
<ol>
<li>boxing — cast value type into System.Object type(shollow copy) or interface type that is implemented by value type</li>
<li>unboxing — boxing reverse process</li>
</ol>
</li>
<li><p>Value comparasion<br>operator overloading — must be static<br>IComparable — compare object’s data with the same type<br>&amp;&amp;<br>IComparer — compare two object with different type or the same type</p>
</li>
</ol>
<h3 id="6-_Conversion">6. Conversion</h3><p>Conversion operator<br>implici<br>explicit<br>e.g.<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">B</span>(<span class="params">A a</span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">		......</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">B</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">explicit</span> <span class="keyword">operator</span> <span class="title">A</span>(<span class="params">B b</span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">		......</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>as operator</p>
<p><operand> as <type><br>Suit case</type></operand></p>
<ol>
<li>operand type is type</li>
<li>operand type can be casted into type implicitly</li>
<li>operand can be boxing into type</li>
</ol>
<h3 id="7-_Generics">7. Generics</h3><p>C++里是template实现<br>System.Collections.Generic<br>value type can not be initilized with null<br>Problem</p>
<ol>
<li>null (value type or reference type)<ol>
<li>default key word — if it is reference type, initilized with null. otherwise use default value</li>
</ol>
</li>
<li>type<ol>
<li>constraining<br> where key words<br> e.g.<br> class A<t>: where T:B 9( T must inherite from B)<br>Code e.g.<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">   using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">namespace CSharpStudy</span><br><span class="line">&#123;</span><br><span class="line">    class Program</span><br><span class="line">    &#123;</span><br><span class="line">        //Can not instantiation with int when where T1 : class </span><br><span class="line">        //public class GenericClass&lt;T1&gt; where T1 : class</span><br><span class="line">        public class GenericClass&lt;T1&gt; : IEnumerable&lt;T1&gt; where T1 : struct</span><br><span class="line">        &#123;</span><br><span class="line">            private List&lt;T1&gt; m_Member = new List&lt;T1&gt;();</span><br><span class="line"></span><br><span class="line">            public GenericClass()</span><br><span class="line">            &#123;</span><br><span class="line">                //use T1's default value</span><br><span class="line">                //m_Member.Add(default(T1));</span><br><span class="line">            &#125;</span><br><span class="line">            public List&lt;T1&gt; GetMember</span><br><span class="line">            &#123;</span><br><span class="line">                get</span><br><span class="line">                &#123;</span><br><span class="line">                    return m_Member;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            public IEnumerator&lt;T1&gt; GetEnumerator()</span><br><span class="line">            &#123;</span><br><span class="line">                return m_Member.GetEnumerator();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            IEnumerator IEnumerable.GetEnumerator()</span><br><span class="line">            &#123;</span><br><span class="line">                return m_Member.GetEnumerator();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public static implicit operator List&lt;T1&gt;(GenericClass&lt;T1&gt; gc)</span><br><span class="line">            &#123;</span><br><span class="line">                List&lt;T1&gt; result = new List&lt;T1&gt;();</span><br><span class="line">                foreach (T1 i in gc)</span><br><span class="line">                &#123;</span><br><span class="line">                    result.Add(i);</span><br><span class="line">                &#125;</span><br><span class="line">                return result;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public static GenericClass&lt;T1&gt; operator +(GenericClass&lt;T1&gt; gc, List&lt;T1&gt; l)</span><br><span class="line">            &#123;</span><br><span class="line">                GenericClass&lt;T1&gt; result = new GenericClass&lt;T1&gt;();</span><br><span class="line">                foreach (T1 m in gc)</span><br><span class="line">                &#123;</span><br><span class="line">                    result.GetMember.Add(m);</span><br><span class="line">                &#125;</span><br><span class="line">                foreach (T1 m in l)</span><br><span class="line">                &#123;</span><br><span class="line">                    if (!result.GetMember.Contains(m))</span><br><span class="line">                    &#123;</span><br><span class="line">                        result.GetMember.Add(m);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                return result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        static void Main(string[] args)</span><br><span class="line">        &#123;</span><br><span class="line">           //Nullable problem, </span><br><span class="line">           //value type can not be initiated with null</span><br><span class="line">           //int normalint = null;</span><br><span class="line">           System.Nullable&lt;int&gt; nullableint = null;</span><br><span class="line">           //nullable</span><br><span class="line">           int? nullalbleint = null;</span><br><span class="line">           int? result = nullalbleint ?? 5;</span><br><span class="line">           Console.WriteLine("result = " + result);</span><br><span class="line">           List&lt;int&gt; list = new List&lt;int&gt;(2);</span><br><span class="line">           list.Add(1);</span><br><span class="line">           list.Add(2);</span><br><span class="line">           foreach (int i in list)</span><br><span class="line">           &#123;</span><br><span class="line">               Console.WriteLine("list value = " + i);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           GenericClass&lt;int&gt; gc = new GenericClass&lt;int&gt;();</span><br><span class="line">           Console.WriteLine("gc.m_Member = " + gc.GetMember);</span><br><span class="line"></span><br><span class="line">           GenericClass&lt;int&gt; gc2 = new GenericClass&lt;int&gt;();</span><br><span class="line">           gc2.GetMember.Add(11);</span><br><span class="line">           gc2.GetMember.Add(111);</span><br><span class="line">           GenericClass&lt;int&gt; gc3 = new GenericClass&lt;int&gt;();</span><br><span class="line">           gc3.GetMember.Add(11);</span><br><span class="line">           gc3.GetMember.Add(22);</span><br><span class="line">           gc3.GetMember.Add(222);</span><br><span class="line"></span><br><span class="line">           gc = gc2 + gc3;</span><br><span class="line">           foreach (int i in gc)</span><br><span class="line">           &#123;</span><br><span class="line">               Console.WriteLine("gc member = " + i);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</t></li>
</ol>
</li>
</ol>
<p>Output:<br><img src="/img/CSharp/Generic.PNG" alt="Generic"></p>
<p>Variance (变体)</p>
<ol>
<li>Convariance — 协变 out key word<br>主要用于Interface和delegate的返回类型或者参数类型的隐士转换（子类到父类）</li>
<li>Contravariance — 抗变 int key word<br>与协变相反（父类到子类）<br>Code e.g.<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Covariance</span></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ListAnimals</span>(<span class="params">IEnumerable&lt;Animal&gt; animals</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">foreach</span> (Animal animal <span class="keyword">in</span> animals)</span><br><span class="line">       &#123;</span><br><span class="line">          Console.WriteLine(animal.ToString());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FeeAnimal</span>(<span class="params">Func&lt;Animal&gt; animalCreator</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> animal = animalCreator();</span><br><span class="line">       Console.WriteLine(<span class="string">"animal.name = "</span> + animal.Name);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FeeAnimal</span>(<span class="params">Func&lt;Cow&gt; animalCreator</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> animal = animalCreator();</span><br><span class="line">       Console.WriteLine(<span class="string">"animal.name = "</span> + animal.Name);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">static</span> Cow <span class="title">CreateCow</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> Cow(<span class="string">"DelegateCow"</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Contravariance</span></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FeeAnimal</span>(<span class="params">Animal animal</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       Console.WriteLine(<span class="string">"FeeAnimal:"</span> + animal.Name);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Action&lt;Cow&gt; cact</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">       cact(<span class="keyword">new</span> Cow(<span class="string">"ExecuteCow"</span>));</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Covariance</span></span><br><span class="line">   List&lt;Cow&gt; cows = <span class="keyword">new</span> List&lt;Cow&gt;();</span><br><span class="line">   cows.Add(<span class="keyword">new</span> Cow(<span class="string">"Cow1"</span>));</span><br><span class="line">   ListAnimals(cows);</span><br><span class="line"></span><br><span class="line">   FeeAnimal(CreateCow);</span><br><span class="line">   Func&lt;Cow&gt; cFunc = CreateCow;</span><br><span class="line">   Func&lt;Animal&gt; aFunc = cFunc;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Contravariance</span></span><br><span class="line">   Action&lt;Animal&gt; aAct = FeeAnimal;</span><br><span class="line">   Action&lt;Cow&gt; cAct = aAct;</span><br><span class="line"></span><br><span class="line">   Execute(aAct);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Output:<br><img src="/img/CSharp/Variance_Contravariance.PNG" alt="Variance_Contravariance"></p>
<p>Note:<br>C++是通过编译器检测出模板使用的特定类型<br>C#是运行时进行</p>
<ol>
<li>Event<br>C#里的Event响应delegate好比C++里的回调 — 当事件发生时调用<br>event key word</li>
</ol>
<p>待续……</p>
<p>参考书籍下载：<br><a href="http://download.csdn.net/download/baiyu9821179/4282298" target="_blank" rel="external">C#入门经典第五版</a></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Programming-Language/">Programming Language</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Programming/">Programming</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://tonytang1990.github.io/2015/08/15/CSharp-Study/" data-title="C# Study | 走停人生路" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/08/26/OpenGL-Study/" title="OpenGL_Study">
  <strong>上一篇：</strong><br/>
  <span>
  OpenGL_Study</span>
</a>
</div>


<div class="next">
<a href="/2015/07/15/Unity-Study/"  title="Unity Study">
 <strong>下一篇：</strong><br/> 
 <span>Unity Study
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2015/08/15/CSharp-Study/" data-title="C# Study" data-url="http://tonytang1990.github.io/2015/08/15/CSharp-Study/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目錄</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#-Net_Framework"><span class="toc-number">1.</span> <span class="toc-text">.Net Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Content"><span class="toc-number">1.2.</span> <span class="toc-text">Content</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using_-NET_Framework"><span class="toc-number">1.3.</span> <span class="toc-text">Using .NET Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools"><span class="toc-number">1.3.1.</span> <span class="toc-text">Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Compile_process"><span class="toc-number">1.3.2.</span> <span class="toc-text">Compile process</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#程序集"><span class="toc-number">1.3.3.</span> <span class="toc-text">程序集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#托管代码"><span class="toc-number">1.3.4.</span> <span class="toc-text">托管代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#垃圾回收"><span class="toc-number">1.3.5.</span> <span class="toc-text">垃圾回收</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链接"><span class="toc-number">1.3.6.</span> <span class="toc-text">链接</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CSharp"><span class="toc-number">2.</span> <span class="toc-text">CSharp</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction-1"><span class="toc-number">2.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Features"><span class="toc-number">2.2.</span> <span class="toc-text">Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Development"><span class="toc-number">2.3.</span> <span class="toc-text">Development</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Language_Study"><span class="toc-number">2.4.</span> <span class="toc-text">Language Study</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-_delegate"><span class="toc-number">2.4.1.</span> <span class="toc-text">1. delegate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-_Class_&_interface"><span class="toc-number">2.4.2.</span> <span class="toc-text">2. Class & interface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-_Not_supported_multiple_inherit"><span class="toc-number">2.4.3.</span> <span class="toc-text">3. Not supported multiple inherit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-_Class_member"><span class="toc-number">2.4.4.</span> <span class="toc-text">4. Class member</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-_Struct_&_Class"><span class="toc-number">2.4.5.</span> <span class="toc-text">3. Struct & Class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-_Collection_class_(System-Collection)"><span class="toc-number">2.4.6.</span> <span class="toc-text">4. Collection class (System.Collection)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-_Comparasion"><span class="toc-number">2.4.7.</span> <span class="toc-text">5. Comparasion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-_Conversion"><span class="toc-number">2.4.8.</span> <span class="toc-text">6. Conversion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-_Generics"><span class="toc-number">2.4.9.</span> <span class="toc-text">7. Generics</span></a></li></ol></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分類</p>
		<ul>
		
		  
			<li><a href="/categories/Algorithm/" title="Algorithm">Algorithm<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Game-Engine/" title="Game_Engine">Game_Engine<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Programming-Language/" title="Programming Language">Programming Language<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Rendering/" title="Rendering">Rendering<sup>2</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">標簽</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/OpenGL/" title="OpenGL">OpenGL<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/AI/" title="AI">AI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Unity/" title="Unity">Unity<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Sort/" title="Sort">Sort<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Programming/" title="Programming">Programming<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 訂閱</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Tony Tang. <br/>
			This is my new blog.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Tony Tang">Tony Tang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"TonyTang1990"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回頂部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
